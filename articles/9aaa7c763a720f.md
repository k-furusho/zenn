---
title: "ã€TanStack Query & Tableã€‘50ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’é‹ç”¨ã—ã¦è¾¿ã‚Šç€ã„ãŸã€å …ç‰¢ãªDataTableè¨­è¨ˆ"
emoji: "ğŸ•Œ"
type: "tech"
topics: ["React", "TypeScript", "TanStack", "DataTable", "Frontend"]
published: true
publication_name: "dress_code"
---

## ã¯ã˜ã‚ã«
ã“ã‚“ã«ã¡ã¯ã€ãµã‚‹ã—ã‚‡ã†ã§ã™ã€‚
ç§ãŸã¡ã®ãƒãƒ¼ãƒ ã§ã¯ã€10ã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚’å˜ä¸€ãƒªãƒã‚¸ãƒˆãƒªã§é–‹ç™ºã—ã¦ãŠã‚Šã€**50å€‹ã®ãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«**ãŒå­˜åœ¨ã—ã¾ã™ã€‚ã“ã‚Œã ã‘ã®è¦æ¨¡ã«ãªã‚‹ã¨ã€UI/UXã®ä¸€è²«æ€§ã‚’ä¿ã¡ã¤ã¤ã€é–‹ç™ºåŠ¹ç‡ã‚’è½ã¨ã•ãªã„ãŸã‚ã®æ±ç”¨çš„ãªãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆãŒæ¥µã‚ã¦é‡è¦ã«ãªã‚Šã¾ã™ã€‚

DRESS CODEã§ã¯ã€TanStack Tableã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸå…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ `DataTable` ã‚’é–‹ç™ºã—ã€ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆæ¨ªæ–­ã§çµ±ä¸€ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’ç›®æŒ‡ã—ã¦ãã¾ã—ãŸã€‚

ã—ã‹ã—ã€å…ˆæ—¥ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆãƒãƒ¼ãƒ ã‹ã‚‰ã€Œ**ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒä¸€ç¬ã¡ã‚‰ã¤ã„ã¦è¦‹ãˆã‚‹**ã€ã€Œ**æ¤œç´¢ã™ã‚‹å‰ã‹ã‚‰"çµæœãŒã‚ã‚Šã¾ã›ã‚“"ã¨è¡¨ç¤ºã•ã‚Œã‚‹ã®ã¯ç´›ã‚‰ã‚ã—ã„**ã€ã¨ã„ã†å…·ä½“çš„ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒå¯„ã›ã‚‰ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã‚’æ©Ÿã« `DataTable` ã®è¨­è¨ˆã‚’ã‚¼ãƒ­ã‹ã‚‰è¦‹ç›´ã—ãŸçµæœã€å¤šãã®å­¦ã³ã¨æ”¹å–„ãŒç”Ÿã¾ã‚Œã¾ã—ãŸã€‚

æœ¬è¨˜äº‹ã§ã¯ã€ãã®è©¦è¡ŒéŒ¯èª¤ã®éç¨‹ã§ç›´é¢ã—ãŸèª²é¡Œã¨ã€ãã‚Œã‚‰ã‚’ä¹—ã‚Šè¶Šãˆã¦ç¢ºç«‹ã—ãŸ**å …ç‰¢ã‹ã¤æŸ”è»ŸãªDataTableã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚TanStack Queryã¨Tableã‚’ä½¿ã£ãŸå¤§è¦æ¨¡ãªãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã«æºã‚ã‚‹ã€ã™ã¹ã¦ã®é–‹ç™ºè€…ã«ã¨ã£ã¦å®Ÿè·µçš„ãªãƒ’ãƒ³ãƒˆã¨ãªã‚Œã°å¹¸ã„ã§ã™ã€‚

## TL;DR
*   **UIã®ã¡ã‚‰ã¤ãå•é¡Œã®è§£æ±º**: TanStack Queryã® `initialData` ã®æ„å›³ã—ãªã„èª¤ç”¨ã‹ã‚‰ã€Server Stateã¨ClientStateã‚’å†è¨­è¨ˆ
*   **é–‹ç™ºè€…ä½“é¨“(DX)ã®å‘ä¸Š**: å†—é•·ãªã‚«ãƒ©ãƒ å®šç¾©ã‚’æŠ½è±¡åŒ–ã—ã€å®£è¨€çš„ã«UIã‚’æ§‹ç¯‰ã™ã‚‹ `Column` ãƒ˜ãƒ«ãƒ‘ãƒ¼ã¨ `Cell` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç´¹ä»‹
*   **è¤‡é›‘ãªã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã®åˆ†é›¢**: è¡Œã‚¯ãƒªãƒƒã‚¯ã¨ã‚»ãƒ«å†…è¦ç´ ã®ç«¶åˆã¨ã„ã£ãŸUIãƒ­ã‚¸ãƒƒã‚¯ã‚’é›†ç´„ã—ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¦‹é€šã—ã‚’æ”¹å–„ã€‚
*   **çŠ¶æ…‹ã®æ°¸ç¶šåŒ–ã¨å…±æœ‰**: TanStack Routerã‚’æ´»ç”¨ã—ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã‚„ã‚½ãƒ¼ãƒˆé †ã‚’URLã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨åŒæœŸã•ã›ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’å‘ä¸Šã€‚


## `initialData`ã®èª¤ç”¨ãŒå¼•ãèµ·ã“ã—ãŸUXã®æ£„æ
UIã®ã¡ã‚‰ã¤ãã®æ ¹æœ¬çš„ãªåŸå› ã¯ã€TanStack Queryã® `useQuery` ãƒ•ãƒƒã‚¯ã«ãŠã‘ã‚‹ `initialData` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®èª¤ç”¨ã§ã—ãŸã€‚

å½“åˆã€`query.data` ã®å‹ãŒ `TData | undefined` ã‹ã‚‰ `TData` ã¨ã—ã¦æ‰±ãˆã‚‹åˆ©ä¾¿æ€§ã®ãŸã‚ã« `initialData: []` ã®ã‚ˆã†ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æŒ‡å®šã—ã¦ã„ã¾ã—ãŸã€‚

```typescript
// å½“åˆã®å®Ÿè£…ä¾‹
const { data, isPending } = useQuery({
  queryKey: ['users'],
  queryFn: fetchUsers,
  initialData: [], 
});
```

ã—ã‹ã—ã€ã“ã®å®Ÿè£…ãŒUXã®ä½ä¸‹ã‚’æ‹›ãã¾ã—ãŸã€‚TanStack Queryã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒè­¦å‘Šã—ã¦ã„ã‚‹é€šã‚Šã€`initialData` ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«æ°¸ç¶šåŒ–ã•ã‚Œã‚‹ã€Œæ­£è¦ã®ãƒ‡ãƒ¼ã‚¿ã€ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚

> IMPORTANT: initialData is persisted to the cache, so it is not recommended to provide placeholder, partial or incomplete data to this option and instead use placeholderData

https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data#using-initialdata-to-prepopulate-a-query

`initialData` ãŒå­˜åœ¨ã™ã‚‹ã¨ã€TanStack Queryã¯ãã‚Œã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆã¨ã¿ãªã—ã€**å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãŒé–‹å§‹ã•ã‚Œã¦ã‚‚ `isPending` ãƒ•ãƒ©ã‚°ãŒ `true` ã«ãªã‚Šã¾ã›ã‚“**ã€‚ã‚¯ã‚¨ãƒªã¯å³åº§ã« `status: 'success'` ã¨ãªã‚Šã€UIã¯ã€Œãƒ‡ãƒ¼ã‚¿0ä»¶ã®æˆåŠŸçŠ¶æ…‹ã€ã¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ã€‚ãã®å¾Œã€éåŒæœŸã®ãƒ•ã‚§ãƒƒãƒãŒå®Œäº†ã—ã¦åˆã‚ã¦å®Ÿãƒ‡ãƒ¼ã‚¿ã§å†æç”»ã•ã‚Œã‚‹ãŸã‚ã€ä»¥ä¸‹ã®å•é¡ŒãŒç™ºç”Ÿã—ã¾ã™ã€‚

*   **åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚ã®ã¡ã‚‰ã¤ã**: `isPending` ãŒ `true` ã«ãªã‚‰ãªã„ãŸã‚ã€æœ¬æ¥è¡¨ç¤ºã™ã¹ããƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ã‚±ãƒ«ãƒˆãƒ³ãŒã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã‚‹ã€‚ä»£ã‚ã‚Šã«ã€Œãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒä¸€ç¬è¡¨ç¤ºã•ã‚Œã€ãã®ç›´å¾Œã«ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¨ã„ã†**ã¡ã‚‰ã¤ã**ãŒç™ºç”Ÿã€‚
*   **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èª¤è§£**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ¤œç´¢ã‚’å®Ÿè¡Œã™ã‚‹å‰ã®åˆæœŸç”»é¢ã§ã€Œæ¤œç´¢çµæœãŒã‚ã‚Šã¾ã›ã‚“ã€ã¨è¡¨ç¤ºã•ã‚Œã€æ“ä½œã‚’ãŸã‚ã‚‰ã‚ã›ã‚‹åŸå› ã¨ãªã‚‹ã€‚

ã“ã‚Œã¯ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æŒ™å‹•ã‚’æ·±ãç†è§£ã›ãšã«APIã‚’ä½¿ç”¨ã—ã¦ã—ã¾ã£ãŸçµæœã€UIã®çŠ¶æ…‹é·ç§»ã‚’åˆ¶å¾¡ã§ããªããªã£ãŸå…¸å‹çš„ãªå¤±æ•—ä¾‹ã§ã—ãŸã€‚

## è§£æ±ºç­–1ï¼šUIè¡¨ç¤ºçŠ¶æ…‹(Client State)ã‚’å®£è¨€çš„ã«ç®¡ç†
ã“ã®å•é¡Œã‚’æ ¹æœ¬çš„ã«è§£æ±ºã™ã‚‹ãŸã‚ã€ `initialData` ã®ä½¿ç”¨ã‚’å®Œå…¨ã«å»ƒæ­¢ã—ã¾ã—ãŸã€‚ãã—ã¦ã€`query.data` ãŒ `undefined` ã«ãªã‚Šã†ã‚‹ã“ã¨ã‚’å—ã‘å…¥ã‚ŒãŸä¸Šã§ã€UIã®è¡¨ç¤ºçŠ¶æ…‹ã‚’ã‚ˆã‚Šãã‚ç´°ã‹ãã€ã‹ã¤å®£è¨€çš„ã«ç®¡ç†ã™ã‚‹ãŸã‚ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ **`useTableDisplayState`** ã‚’å°å…¥ã—ã¾ã—ãŸã€‚

ã“ã®ãƒ•ãƒƒã‚¯ã¯ã€ã‚µãƒ¼ãƒãƒ¼ã®çŠ¶æ…‹ (`isPending`, `data`) ã¨UIã®æ–‡è„ˆ (`isInitialState`) ã¨ã„ã†2ã¤ã®æƒ…å ±æºã‹ã‚‰ã€ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå–ã‚‹ã¹ãè¡¨ç¤ºçŠ¶æ…‹ (`loading`, `placeholder`, `empty`, `data`) ã‚’ä¸€æ„ã«æ±ºå®šã™ã‚‹ã€**UIè¡¨ç¤ºã®ãŸã‚ã®çŠ¶æ…‹ç®¡ç†ãƒ­ã‚¸ãƒƒã‚¯**ã§ã™ã€‚

```typescript:src/components/DataTable/types.ts
import type { ReactNode } from "react";

export type TableDisplayState =
  | { readonly state: "loading" }
  | { readonly state: "placeholder"; readonly content?: ReactNode }
  | { readonly state: "data" }
  | { readonly state: "empty"; readonly content?: ReactNode };
```

```typescript:src/components/DataTable/Table/useTableDisplayState.ts
import type { ReactNode } from "react";
import { useMemo } from "react";
import type { TableDisplayState } from "../types";

export const useTableDisplayState = <TData>(
  isPending: boolean,
  data: TData[] | undefined,
  options?: {
    isInitialState?: boolean;
    emptyContent?: ReactNode;
    placeholderContent?: ReactNode;
  },
): TableDisplayState => {
  return useMemo(() => {
    // 1. èª­ã¿è¾¼ã¿ä¸­ (isPending) ã‚’æœ€å„ªå…ˆã§å‡¦ç†
    if (isPending) {
      return { state: "loading" };
    }

    // 2. æ¤œç´¢å‰ãªã©ã®åˆæœŸçŠ¶æ…‹ (isInitialState)
    if (options?.isInitialState) {
      return {
        state: "placeholder",
        content: options.placeholderContent,
      };
    }

    // 3. ãƒ‡ãƒ¼ã‚¿ãŒç©ºã®å ´åˆ (ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒå¾Œ)
    if (!data || data.length === 0) {
      return {
        state: "empty",
        content: options?.emptyContent,
      };
    }

    // 4. ä¸Šè¨˜ä»¥å¤– (ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º)
    return { state: "data" };
  }, [
    isPending,
    data,
    options?.isInitialState,
    options?.emptyContent,
    options?.placeholderContent,
  ]);
};
```

ã“ã®ãƒ•ãƒƒã‚¯ã®é‡è¦ãªãƒã‚¤ãƒ³ãƒˆã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

1.  **æ˜ç¢ºãªçŠ¶æ…‹ã®å„ªå…ˆé †ä½**:
    *   `loading`: `isPending` ãŒ `true` ã®æ™‚ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒä¸­ã§ã‚ã‚Šã€æœ€å„ªå…ˆã§ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºã«ã—ã¾ã™ã€‚
    *   `placeholder`: `isPending` ãŒ `false` ã‹ã¤ `isInitialState` ãŒ `true` ã®æ™‚ã€‚ã“ã‚Œã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ¤œç´¢ãªã©ã®æ“ä½œã‚’è¡Œã†å‰ã®åˆæœŸçŠ¶æ…‹ã‚’ç¤ºã—ã¾ã™ã€‚
    *   `empty`: `isPending` ãŒ `false` ã‹ã¤ `isInitialState` ãŒ `false` ã§ã€ãƒ‡ãƒ¼ã‚¿ãŒç©ºé…åˆ—ã®æ™‚ã€‚ã“ã‚Œã¯æ¤œç´¢ãªã©ã‚’å®Ÿè¡Œã—ãŸãŒã€çµæœãŒ0ä»¶ã ã£ãŸçŠ¶æ…‹ã§ã™ã€‚
    *   `data`: ä¸Šè¨˜ã„ãšã‚Œã§ã‚‚ãªã„ã€æ­£å¸¸ã«ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹çŠ¶æ…‹ã€‚

2.  **`isInitialState` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®å°å…¥**: ã“ã®ãƒ•ãƒ©ã‚°ãŒã€Œã¾ã æ“ä½œã•ã‚Œã¦ã„ãªã„çŠ¶æ…‹ã€ã¨ã€Œæ“ä½œã—ãŸãŒçµæœãŒãªã‹ã£ãŸçŠ¶æ…‹ã€ã‚’åŒºåˆ¥ã™ã‚‹éµã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã€Œæ¤œç´¢å‰ãªã®ã«"çµæœãªã—"ã€ã¨ã„ã†ç´›ã‚‰ã‚ã—ã„è¡¨ç¤ºã‚’é˜²ãã¾ã™ã€‚ã“ã®ãƒ•ãƒ©ã‚°ã¯ã€URLã®ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æœ‰ç„¡ãªã©ã§åˆ¶å¾¡ã—ã¾ã™ã€‚

3.  **æŸ”è»Ÿãªã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„**: `emptyContent` ã‚„ `placeholderContent` ã‚’é€šã˜ã¦ã€å„çŠ¶æ…‹ã®è¡¨ç¤ºå†…å®¹ã‚’ãƒšãƒ¼ã‚¸ã”ã¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ã«ã—ã€æ±ç”¨æ€§ã¨å€‹åˆ¥æœ€é©åŒ–ã‚’ä¸¡ç«‹ã‚’æ„è­˜ã—ã¾ã—ãŸã€‚

ã“ã® `useTableDisplayState` ã‚’ `DataTable` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€æ„å›³ã—ãŸé€šã‚Šã®å®‰å®šã—ãŸUIè¡¨ç¤ºã‚’å®Ÿç¾ã§ãã¾ã—ãŸã€‚

```typescript:src/components/DataTable/Table/DataTable.tsx
// ...
export default function DataTable<TData>({
  table,
  displayState, 
  // ...
}: Props<TData>) {
  // ...

  // çŠ¶æ…‹ã«å¿œã˜ã¦ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯UIã‚’è¡¨ç¤º
  if (displayState.state === "placeholder") {
    return <FallbackDisplay content={displayState.content} defaultMessage="æ¤œç´¢ã‚’é–‹å§‹ã—ã¦ãã ã•ã„" />;
  }
  if (displayState.state === "empty") {
    return <FallbackDisplay content={displayState.content} defaultMessage="æ¤œç´¢çµæœãŒã‚ã‚Šã¾ã›ã‚“" />;
  }

  const isLoading = displayState.state === "loading";

  // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ä¸­ã‹ã€ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã™ã‚‹å ´åˆã«ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã‚’æç”»
  return (
    <div /* ... */ >
      <TableStructure
        table={table}
        isLoading={isLoading}
        // ...
      />
    </div>
  );
}
```

## è§£æ±ºç­–2ï¼šã‚«ãƒ©ãƒ å®šç¾©ã®æŠ½è±¡åŒ–ã§é–‹ç™ºè€…ä½“é¨“(DX)ã‚’æ”¹å–„
å¤šãã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå¿…è¦ã§ã€ãã®éƒ½åº¦TanStack Tableã® `ColumnDef` ã‚’æ‰‹ã§æ›¸ãã®ã¯éå¸¸ã«å†—é•·ã§ã™ã€‚ç‰¹ã«ã€äººç‰©åã€æ—¥ä»˜ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãªã©é »å‡ºã™ã‚‹ã‚«ãƒ©ãƒ ã®ãƒ­ã‚¸ãƒƒã‚¯ãŒé–‹ç™ºè€…ã”ã¨ã«å¾®å¦™ã«ç•°ãªã‚Šã€UIã®ä¸€è²«æ€§ãŒæãªã‚ã‚Œã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã—ãŸã€‚

ã“ã®èª²é¡Œã«å¯¾ã—ã€ã€Œ**å®£è¨€çš„ãªå®šç¾©**ã€ã‚’å¯èƒ½ã«ã™ã‚‹æŠ½è±¡åŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’å°å…¥ã—ã¦ã„ã¾ã™ã€‚

1.  **`Column` ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°**: `personColumn(...)`, `dateColumn(...)` ã®ã‚ˆã†ãªã€ã‚«ãƒ©ãƒ ç¨®åˆ¥ã”ã¨ã®ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼é–¢æ•°ã§ã™ã€‚ã“ã‚Œã‚‰ã¯ã€IDã‚„è¡¨ç¤ºåã€ã‚½ãƒ¼ãƒˆå¯å¦ã¨ã„ã£ãŸå…±é€šè¨­å®šã®ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å†…éƒ¨ã§å‡¦ç†ã—ã€`ColumnDef` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã—ã¾ã™ã€‚
2.  **å€‹åˆ¥æœ€é©åŒ–ã—ãŸ `Cell` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: `PersonCell`, `DateCell` ã®ã‚ˆã†ãªã€ã‚»ãƒ«ã®è¦‹ãŸç›®ã¨æŒ¯ã‚‹èˆã„ã‚’æ‹…å½“ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚å€¤ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚„ã‚¢ã‚¤ã‚³ãƒ³ã®è¡¨ç¤ºãªã©ã‚’ã‚«ãƒ—ã‚»ãƒ«åŒ–ã—ã¾ã™ã€‚

ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«ã‚ˆã‚Šã€é–‹ç™ºè€…ã¯è¤‡é›‘ãª `ColumnDef` ã‚’æ„è­˜ã™ã‚‹ã“ã¨ãªãã€æ„å‘³ã®ã‚ã‚‹å˜ä½ã§ã‚«ãƒ©ãƒ ã‚’å®£è¨€çš„ã«å®šç¾©ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```typescript
// ã‚«ãƒ©ãƒ å®šç¾©ã®ä¾‹
import { createColumnHelper } from '@tanstack/react-table';
// è‡ªä½œã®ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ç¾¤
import { personColumn, dateColumn, statusColumn } from '@/components/DataTable/columnHelpers';

const columnHelper = createColumnHelper<User>();

const columns = [
  personColumn(columnHelper, 'user', { i18nKey: 'userName' }),
  dateColumn(columnHelper, 'lastLoginAt', { i18nKey: 'lastLogin', sortable: true }),
  statusColumn(columnHelper, 'status', { i18nKey: 'status' }),
];
```

TanStack Tableã® `flexRender` ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãŒã€ã“ã‚Œã‚‰ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼ã«ã‚ˆã£ã¦ `header` ã‚„ `cell` ã«è¨­å®šã•ã‚ŒãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„JSXã‚’æç”»ã—ã¦ãã‚Œã¾ã™ã€‚ã“ã®æŠ½è±¡åŒ–ã«ã‚ˆã£ã¦ã€é–‹ç™ºåŠ¹ç‡ã¨UIã®ä¸€è²«æ€§ã¯å‘ä¸Šã—ã¾ã—ãŸã€‚

## è§£æ±ºç­–3ï¼šè¤‡é›‘ãªã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’ `useTableInteraction` ã«åˆ†é›¢ã™ã‚‹
ãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã¯ã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã€è¡Œã‚¯ãƒªãƒƒã‚¯ã€ã‚»ãƒ«å†…ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ãªã©ã€æ§˜ã€…ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãŒä¼´ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ `DataTable` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã«ç›´æ¥æ›¸ãã¨ã€ã™ãã«è¦‹é€šã—ãŒæ‚ªããªã‚Šã¾ã™ã€‚

ãã“ã§ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã«é–¢é€£ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ **`useTableInteraction`** ã¨ã„ã†ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã«ã™ã¹ã¦é›†ç´„ã—ã¦ã„ã¾ã™ã€‚

```typescript:src/components/DataTable/Table/useTableInteraction.ts
import { useThrottle } from "@/hooks/useThrottle";
import { useEffect, useRef, useState, useCallback } from "react";
import { hasClickableAncestor } from "./clickableElement";

interface UseTableInteractionOptions<TData> {
  onRowClick?: (row: TData) => void;
}

export const useTableInteraction = <TData>({
  onRowClick,
}: UseTableInteractionOptions<TData> = {}) => {
  const containerRef = useRef<HTMLDivElement>(null);
  const [isScrolling, setIsScrolling] = useState(false);

  // 1. æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«çŠ¶æ…‹ã®æ¤œçŸ¥ (ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°é©ç”¨)
  // å›ºå®šã‚«ãƒ©ãƒ ã®å½±ã®è¡¨ç¤ºåˆ¶å¾¡ãªã©ã«ä½¿ç”¨
  const handleThrottledScroll = useThrottle(
    useCallback(() => {
      setIsScrolling(!!containerRef.current?.scrollLeft);
    }, []),
    100,
  );

  useEffect(() => {
    const container = containerRef.current;
    if (!container) return;
    container.addEventListener("scroll", handleThrottledScroll);
    return () => container.removeEventListener("scroll", handleThrottledScroll);
  }, [handleThrottledScroll]);

  // 2. è¡Œã‚¯ãƒªãƒƒã‚¯å‡¦ç†
  const handleRowClick = useCallback(
    (event: React.MouseEvent<HTMLTableRowElement>, rowData: TData) => {
      if (!onRowClick || !(event.target instanceof HTMLElement)) return;

      // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã®ãŒãƒœã‚¿ãƒ³ã‚„ãƒªãƒ³ã‚¯ã®å ´åˆã€è¡Œã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã¯ç™ºç«ã•ã›ãªã„
      if (hasClickableAncestor(event.target, event.currentTarget)) {
        return;
      }

      onRowClick(rowData);
    },
    [onRowClick],
  );

  return { containerRef, isScrolling, handleRowClick };
};
```
ã“ã®ãƒ•ãƒƒã‚¯ã®ä¸»ãªè²¬å‹™ã¯ä»¥ä¸‹ã®2ã¤ã§ã™ã€‚

1.  **ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«çŠ¶æ…‹ã®ç®¡ç† (`isScrolling`)**: å›ºå®šã‚«ãƒ©ãƒ ãŒã‚ã‚‹å ´åˆã«ã€æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä¸­ã‹å¦ã‹ã‚’åˆ¤å®šã—ã€å½±ã®è¡¨ç¤ºãªã©ã‚’åˆ¶å¾¡ã™ã‚‹ãŸã‚ã«ä½¿ã„ã¾ã™ã€‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è€ƒæ…®ã—ã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆã¯ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°ã—ã¦ã„ã¾ã™ã€‚
2.  **å®‰å…¨ãªè¡Œã‚¯ãƒªãƒƒã‚¯å‡¦ç† (`handleRowClick`)**: `onRowClick` ãŒæŒ‡å®šã•ã‚ŒãŸéš›ã«ã€**ã‚»ãƒ«å†…ã®ãƒœã‚¿ãƒ³ã‚„ãƒªãƒ³ã‚¯ã¨ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã®ç«¶åˆã‚’å›é¿ã—ã¾ã™**ã€‚`hasClickableAncestor` ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãŒã€ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸè¦ç´ ãŒåˆ¥ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ ã§ãªã„ã‹ã‚’åˆ¤å®šã—ã€ãã†ã§ã‚ã‚Œã°è¡Œã‚¯ãƒªãƒƒã‚¯ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯å®Ÿè¡Œã—ã¾ã›ã‚“ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€è¡Œå…¨ä½“ã¸ã®é·ç§»ã¨ã€ã‚»ãƒ«å†…ã®å€‹åˆ¥ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®‰å…¨ã«ä¸¡ç«‹ã§ãã¾ã™ã€‚

ã“ã®ã‚ˆã†ã«ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ•ãƒƒã‚¯ã«åˆ†é›¢ã™ã‚‹ã“ã¨ã§ã€`DataTable` æœ¬ä½“ã¯çŠ¶æ…‹ã‚’æç”»ã™ã‚‹ã“ã¨ã«é›†ä¸­ã§ãã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¦‹é€šã—ãŒæ ¼æ®µã«è‰¯ããªã‚Šã¾ã—ãŸã€‚

## DataTableã‚’åˆ©ç”¨ã™ã‚‹UIã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
å¾“æ¥­å“¡ä¸€è¦§ãƒšãƒ¼ã‚¸ã‚’ä¾‹ã¨ã—ãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®å…¨ä½“åƒ

```mermaid
graph TD
    subgraph LayerA_PageComponents [Page Component Layer]
        direction LR
        Node_PeopleTsx["People.tsx (Route)"]
        Node_PeopleTsx -->|uses| Node_RouterHooks["TanStack Router<br>useSearch, useNavigate"]
        Node_PeopleTsx -->|renders| Node_WrapperAppPeopleTable["AppPeopleTable.tsx"]
    end

    subgraph LayerB_TableWrapper [Table Wrapper Layer]
        direction LR
        Node_WrapperAppPeopleTable -->|uses| Node_HookUseTable["useTable (Hook)"]
        Node_WrapperAppPeopleTable -->|renders| Node_CompDataTable["DataTable (Common)"]
        Node_WrapperAppPeopleTable -->|renders| Node_CompDataTablePagination["DataTablePagination"]
    end

    subgraph LayerC_TableLogicHook [Table Logic Hooks Layer]
        Node_HookUseTable["useTable<br>(ãƒ­ã‚¸ãƒƒã‚¯é›†ç´„ãƒ•ãƒƒã‚¯)"]
        Node_HookUseTable -->|uses| Node_HookTQUseAppPeopleRows["useAppPeopleRows (Query)"]
        Node_HookUseTable -->|uses| Node_HookTTUseReactTable["useReactTable (Table)"]
        Node_HookUseTable -->|uses| Node_HooksURLSync["URL Sync Hooks"]
        Node_HookUseTable -->|uses| Node_HookUseTableDisplayState["useTableDisplayState"]
    end

    subgraph LayerD_DataPersistence
        Node_HookTQUseAppPeopleRows -->Node_ServerState["Server State (API)"]
        Node_HookTTUseReactTable -->Node_ClientTableState["Client Table State"]
        Node_HooksURLSync -->|"syncs with"| Node_URLState["URL Query Params"]
    end
```
ã“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ä¸­å¿ƒã¨ãªã‚‹ã®ãŒã€ãƒšãƒ¼ã‚¸å›ºæœ‰ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’é›†ç´„ã—ãŸã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ **`useTable`** ã§ã™ã€‚ã“ã®ãƒ•ãƒƒã‚¯ã¯ã€ãƒ‡ãƒ¼ã‚¿å–å¾—ã€çŠ¶æ…‹ç®¡ç†ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç”Ÿæˆã¨ã„ã£ãŸé–¢é€£ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¸€ã¤ã«ã¾ã¨ã‚ã€å„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ãƒ•ãƒƒã‚¯ã‚’å”èª¿ã•ã›ã‚‹å½¹å‰²ã‚’æ‹…ã„ã¾ã™ã€‚

### ãƒ­ã‚¸ãƒƒã‚¯ã‚’é›†ç´„ã™ã‚‹ `useTable` ãƒ•ãƒƒã‚¯ã®å½¹å‰²
`useTable` ãƒ•ãƒƒã‚¯ã¯ã€ä»¥ä¸‹ã®å‡¦ç†ã‚’å†…åŒ…ã—ã¾ã™ã€‚

```typescript:src/routes/_staff/apps/_list/people/-hooks/useTable.tsx
import { usePaginationSearch, useSortingSearch } from "@/lib/listPage";
import { Route } from "..";
import { useAppPeopleRows } from "../-query";
import { useAppPeopleColumns } from "../-components/columns";
import { useNavigate } from "@tanstack/react-router";
import { useTableDisplayState } from "@/components/DataTable";
import {
  getCoreRowModel,
  useReactTable,
} from "@tanstack/react-table";

export const useTable = () => {
  const search = Route.useSearch(); // 1. URLã‹ã‚‰ç¾åœ¨ã®æ¤œç´¢æ¡ä»¶ã‚’å–å¾— (TanStack Router)
  const navigate = useNavigate();

  // 2. URLã®æ¤œç´¢æ¡ä»¶ã‚’åŸºã«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒ (TanStack Query)
  const { data: queryData, isPending } = useAppPeopleRows(search);

  // 3. ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚½ãƒ¼ãƒˆã®çŠ¶æ…‹ã‚’URLã¨åŒæ–¹å‘ã«åŒæœŸ
  const [pagination, setPagination] = usePaginationSearch({ /* ... */ });
  const [sorting, setSorting] = useSortingSearch({ /* ... */ });

  // 4. ã‚«ãƒ©ãƒ å®šç¾©ã‚’å–å¾— (useMemoãªã©ã§ãƒ¡ãƒ¢åŒ–ã•ã‚Œã¦ã„ã‚‹æƒ³å®š)
  const columns = useAppPeopleColumns();

  // 5. TanStack Tableã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆ
  const table = useReactTable({
    data: queryData?.data ?? [],
    pageCount: queryData?.maxPage ?? -1,
    columns,
    state: { pagination, sorting }, // URLã¨åŒæœŸã—ãŸçŠ¶æ…‹ã‚’æ³¨å…¥
    onPaginationChange: setPagination, // ãƒ†ãƒ¼ãƒ–ãƒ«ã®æ“ä½œã§URLã‚’æ›´æ–°
    onSortingChange: setSorting,
    manualPagination: true,
    manualSorting: true,  
    getCoreRowModel: getCoreRowModel(),
    // ...
  });

  // 6. UIã®è¡¨ç¤ºçŠ¶æ…‹ã‚’æ±ºå®š
  const displayState = useTableDisplayState(
    isPending,
    queryData?.data,
    { isInitialState: !queryData && !isPending }
  );

  // 7. tableã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¨displayStateã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«è¿”ã™
  return { table, displayState };
};
```
ã“ã®ãƒ•ãƒƒã‚¯ã®æµã‚Œã¯ã€ç¾ä»£çš„ãªãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«å®Ÿè£…ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨è¨€ãˆã¾ã™ã€‚

1.  **URLã‚’ä¿¡é ¼ã§ãã‚‹æƒ…å ±æºã¨ã™ã‚‹**: `TanStack Router` ã‚’ä½¿ã„ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚½ãƒ¼ãƒˆã€ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ¡ä»¶ã‚’URLã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ç®¡ç†ã—ã¾ã™ã€‚
2.  **URLã‹ã‚‰Query Keyã‚’ç”Ÿæˆ**: URLã® `search` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ `useQuery` ã® `queryKey` ã«å«ã‚ã‚‹ã“ã¨ã§ã€æ¤œç´¢æ¡ä»¶ã®å¤‰æ›´ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«è‡ªå‹•ã§ãƒ‡ãƒ¼ã‚¿ãŒå†ãƒ•ã‚§ãƒƒãƒã•ã‚Œã¾ã™ã€‚
3.  **ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰å‡¦ç†ã®æ˜ç¤º**: `manualPagination` ã¨ `manualSorting` ã‚’ `true` ã«è¨­å®šã—ã€ã“ã‚Œã‚‰ã®å‡¦ç†ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§è¡Œã‚ãªã„ã“ã¨ã‚’TanStack Tableã«ä¼ãˆã¾ã™ã€‚å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿æ“ä½œã¯APIã«å§”ã­ã¾ã™ã€‚
4.  **çŠ¶æ…‹ã®åŒæ–¹å‘åŒæœŸ**: ãƒ†ãƒ¼ãƒ–ãƒ«ã®UIæ“ä½œ (`onPaginationChange`ãªã©) ãŒç™ºç”Ÿã—ãŸã‚‰ã€URLåŒæœŸãƒ•ãƒƒã‚¯ (`setPagination`ãªã©) ã‚’å‘¼ã³å‡ºã—ã¦URLã‚’æ›´æ–°ã—ã¾ã™ã€‚URLãŒå¤‰ã‚ã‚‹ã¨ `useSearch` ãŒæ–°ã—ã„å€¤ã‚’è¿”ã—ã€ãã‚ŒãŒ `queryKey` ã«æ¸¡ã•ã‚Œã¦å†ãƒ•ã‚§ãƒƒãƒãŒãƒˆãƒªã‚¬ãƒ¼ã•ã‚Œã‚‹ã€ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ãŒå®Œæˆã—ã¾ã™ã€‚
5.  **UIçŠ¶æ…‹ã®æ±ºå®š**: æœ€å¾Œã« `useTableDisplayState` ã‚’ä½¿ã„ã€ã“ã“ã¾ã§ã®çŠ¶æ…‹ã‚’åŸºã«æœ€çµ‚çš„ãªUIã®è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã‚’æ±ºå®šã—ã¾ã™ã€‚

### ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ã§ã®å·¥å¤«
ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã‚’è¡Œã† `useQuery` ã®å®Ÿè£…ã«ã‚‚ã€UXã‚’å‘ä¸Šã•ã›ã‚‹ä¸€å·¥å¤«ã‚’åŠ ãˆã¦ã„ã¾ã™ã€‚

```typescript:src/routes/_staff/apps/_list/people/-query/index.ts
import { useQuery } from "@tanstack/react-query";
import type { SearchSchema } from "../-schemas";

export const useAppPeopleRows = (search: SearchSchema) => {
  return useQuery({
    queryKey: ["appPeople", search], // searchã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ãŒã‚­ãƒ¼
    queryFn: () => getAppPeople({ /* ...APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã«searchã‚’æ¸¡ã™... */ }),
    select: (data) => ({ /* ...APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’UIã®å½¢ã«å¤‰æ›... */ }),
    
    // ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³æ™‚ã«å‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã—ç¶šã‘ã‚‹ã“ã¨ã§ã€ã¡ã‚‰ã¤ãã‚’é˜²ãUXã‚’å‘ä¸Šã•ã›ã‚‹
    placeholderData: (previousData) => previousData,
  });
};
```
`placeholderData: (previousData) => previousData` ã¯éå¸¸ã«é‡è¦ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æ¬¡ã®ãƒšãƒ¼ã‚¸ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã—ã¦ã„ã‚‹é–“ã€ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã®ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œç¶šã‘ã‚‹ãŸã‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ä¸­ã‚‚ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤±ã†ã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã€‚

ã“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã‚ˆã‚Šã€å„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è²¬å‹™ãŒæ˜ç¢ºã«åˆ†é›¢ã•ã‚Œã€è¦‹é€šã—ãŒè‰¯ãã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã«å„ªã‚ŒãŸ `DataTable` ã‚’å®Ÿç¾ã—ã¾ã—ãŸã€‚
## ã¾ã¨ã‚
æœ¬è¨˜äº‹ã§ã¯ã€å…±é€š `DataTable` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã€`initialData` ã®ç½ ã¨ã„ã†åˆæœŸã®å¤±æ•—ã‹ã‚‰å§‹ã¾ã‚Šã€UIçŠ¶æ…‹ç®¡ç†ã®æ´—ç·´ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã®åˆ†é›¢ã€ãã—ã¦å …ç‰¢ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¸ã¨é€²åŒ–ã—ã¦ããŸé“ã®ã‚Šã‚’è§£èª¬ã—ã¾ã—ãŸã€‚

TanStack Queryã¨Tableã¯ã€æ­£ã—ãçµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€éå¸¸ã«å¼·åŠ›ãªãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºåŸºç›¤ã‚’æ§‹ç¯‰ã§ãã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚ã“ã®è¨˜äº‹ã§ç´¹ä»‹ã—ãŸè¨­è¨ˆåŸå‰‡ã‚„å®Ÿè·µçš„ãªãƒã‚¦ãƒã‚¦ãŒã€çš†ã•ã‚“ã®è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«å®Ÿè£…ã®ä¸€åŠ©ã¨ãªã‚Œã°ã€å¹¸ã„ã§ã™ã€‚

æœ€å¾Œã¾ã§ãŠèª­ã¿ã„ãŸã ãã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼
